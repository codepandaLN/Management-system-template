# Api Documentation


**简介**:Api Documentation


**HOST**:http://localhost:5976


**联系人**:


**Version**:1.0


**接口路径**:/v3/api-docs


[TOC]






# basic-error-controller


## error


**接口地址**:`/api/error`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## error


**接口地址**:`/api/error`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## error


**接口地址**:`/api/error`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## error


**接口地址**:`/api/error`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## error


**接口地址**:`/api/error`


**请求方式**:`PATCH`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## error


**接口地址**:`/api/error`


**请求方式**:`OPTIONS`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## error


**接口地址**:`/api/error`


**请求方式**:`TRACE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## error


**接口地址**:`/api/error`


**请求方式**:`HEAD`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|204|No Content||
|401|Unauthorized||
|403|Forbidden||


**响应参数**:


暂无


**响应示例**:
```javascript

```


# common-controller


## 文件下载(请假单等)


**接口地址**:`/api/common/download`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|name|name|query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


暂无


**响应示例**:
```javascript
void
```


## 文件上传(头像、请假单、检测报告等)


**接口地址**:`/api/common/upload`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json,application/octet-stream`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«string»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||string||
|message||string||


**响应示例**:
```json
{"code":1,"msg":null,"data":"5dbf155d-083e-4714-8f8c-fab58f046a46.jpg","map":{}}
```



# leave-controller


## 根据请假单ID删除请假记录


**接口地址**:`/api/leave/delete`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "id": 24  请假单ID
}
```


**请求参数**:


| 参数名称       | 参数说明      | 请求类型 | 是否必须 | 数据类型       | schema        |
| -------------- | ------------- | -------- | -------- | -------------- | ------------- |
| deleteRequest  | DeleteRequest | body     | true     | DeleteRequest  | DeleteRequest |
| &emsp;&emsp;id | id            |          | false    | integer(int64) |               |


**响应状态**:


| 状态码 | 说明         | schema                |
| ------ | ------------ | --------------------- |
| 200    | OK           | BaseResponse«boolean» |
| 201    | Created      |                       |
| 401    | Unauthorized |                       |
| 403    | Forbidden    |                       |
| 404    | Not Found    |                       |


**响应参数**:


| 参数名称 | 参数说明 | 类型           | schema         |
| -------- | -------- | -------------- | -------------- |
| code     |          | integer(int32) | integer(int32) |
| data     |          | boolean        |                |
| message  |          | string         |                |

**响应示例**:只能学生自己删除自己的，并且请假状态为1-请假中  2-不同意，已同意的请假单不能删除

老师：删除失败

```javascript
{
  "code": 0,
  "data": false,
  "message": "ok"
}
```

学生自己：删除成功

```
{
  "code": 0,
  "data": true,
  "message": "ok"
}
```



## 学生获取自己的请假信息


**接口地址**:`/api/leave/list/me`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称   | 参数说明  | 请求类型 | 是否必须 | 数据类型          | schema                                               |
| ---------- | --------- | -------- | -------- | ----------------- | ---------------------------------------------------- |
| current    |           | query    | `true`   | integer(int64)    |                                                      |
| pageSize   |           | query    | `true`   | integer(int64)    |                                                      |
| createTime |           | query    | false    | string(date-time) | 按请简单创建时间查                                   |
| leaveState |           | query    | false    | integer(int32)    | 按请假状态查                                         |
| sortField  |           | query    | false    | string            | ❌                                                    |
| sortOrder  |           | query    | false    | string            | ❌                                                    |
| userId     |           | query    | `true`   | integer(int32)    |                                                      |
| datetime1  | datetime1 | query    | false    | string            | 按"请假时间startTime",在 datetime1, datetime2)之间查 |
| datetime2  | datetime2 | query    | false    | string            |                                                      |


**响应状态**:


| 状态码 | 说明         | schema                      |
| ------ | ------------ | --------------------------- |
| 200    | OK           | BaseResponse«Page«LeaveVO»» |
| 401    | Unauthorized |                             |
| 403    | Forbidden    |                             |
| 404    | Not Found    |                             |


**响应参数**:


| 参数名称                            | 参数说明 | 类型           | schema         |
| ----------------------------------- | -------- | -------------- | -------------- |
| code                                |          | integer(int32) | integer(int32) |
| data                                |          | Page«LeaveVO»  | Page«LeaveVO»  |
| &emsp;&emsp;countId                 |          | string         |                |
| &emsp;&emsp;current                 |          | integer(int64) |                |
| &emsp;&emsp;maxLimit                |          | integer(int64) |                |
| &emsp;&emsp;optimizeCountSql        |          | boolean        |                |
| &emsp;&emsp;orders                  |          | array          | OrderItem      |
| &emsp;&emsp;&emsp;&emsp;asc         |          | boolean        |                |
| &emsp;&emsp;&emsp;&emsp;column      |          | string         |                |
| &emsp;&emsp;pages                   |          | integer(int64) |                |
| &emsp;&emsp;records                 |          | array          | LeaveVO        |
| &emsp;&emsp;&emsp;&emsp;createTime  | 学生ID   | string         |                |
| &emsp;&emsp;&emsp;&emsp;deptId      | 院系     | string         |                |
| &emsp;&emsp;&emsp;&emsp;gender      | 性别     | integer        |                |
| &emsp;&emsp;&emsp;&emsp;leaveDays   | 学生ID   | string         |                |
| &emsp;&emsp;&emsp;&emsp;leaveNo     | 学生ID   | integer        |                |
| &emsp;&emsp;&emsp;&emsp;leaveReason | 请假原因 | string         |                |
| &emsp;&emsp;&emsp;&emsp;leaveState  | 学生ID   | integer        |                |
| &emsp;&emsp;&emsp;&emsp;leaveType   | 学生ID   | integer        |                |
| &emsp;&emsp;&emsp;&emsp;sno         | 学号     | integer        |                |
| &emsp;&emsp;&emsp;&emsp;userGrade   | 年级     | string         |                |
| &emsp;&emsp;&emsp;&emsp;userId      | 学生ID   | integer        |                |
| &emsp;&emsp;&emsp;&emsp;userName    | 姓名     | string         |                |
| &emsp;&emsp;searchCount             |          | boolean        |                |
| &emsp;&emsp;size                    |          | integer(int64) |                |
| &emsp;&emsp;total                   |          | integer(int64) |                |
| message                             |          | string         |                |

请求一：

![image-20230325125907590](https://cdn.staticaly.com/gh/codepandaLN/picgocdn@master/img/image-20230325125907590.png)

**响应示例**:

`学生自己看自己的请假信息没有展示User的个人信息`

```javascript
{
  "code": 0,
  "data": {
    "records": [
      {
        "userId": 10,
        "userName": null,
        "sno": null,
        "gender": null,
        "userGrade": null,
        "deptId": null,
        "leaveReason": "明天",
        "leaveDays": "0.1",
        "leaveType": 1,
        "leaveState": 1,
        "leaveNo": 1,
        "createTime": "2023-03-24T01:46:15.000+00:00"
      },
      {
        "userId": 10,
        "userName": null,
        "sno": null,
        "gender": null,
        "userGrade": null,
        "deptId": null,
        "leaveReason": "明天结婚",
        "leaveDays": "0.1",
        "leaveType": 1,
        "leaveState": 1,
        "leaveNo": 1,
        "createTime": "2023-03-23T13:19:38.000+00:00"
      },
      {
        "userId": 10,
        "userName": null,
        "sno": null,
        "gender": null,
        "userGrade": null,
        "deptId": null,
        "leaveReason": "明天去看病",
        "leaveDays": "0.2",
        "leaveType": 1,
        "leaveState": 2,
        "leaveNo": 1,
        "createTime": "2023-03-25T04:32:31.000+00:00"
      }
    ],
    "total": 0,
    "size": 10,
    "current": 1,
    "orders": [],
    "optimizeCountSql": true,
    "searchCount": true,
    "optimizeJoinOfCountSql": true,
    "countId": null,
    "maxLimit": null,
    "pages": 0
  },
  "message": "ok"
}
```

请求二：

![image-20230325130024480](https://cdn.staticaly.com/gh/codepandaLN/picgocdn@master/img/image-20230325130024480.png)

响应实例：

```josn
{
  "code": 0,
  "data": {
    "records": [
      {
        "userId": 10,
        "userName": null,
        "sno": null,
        "gender": null,
        "userGrade": null,
        "deptId": null,
        "leaveReason": "明天",
        "leaveDays": "0.1",
        "leaveType": 1,
        "leaveState": 1,
        "leaveNo": 1,
        "createTime": "2023-03-24T01:46:15.000+00:00"
      },
      {
        "userId": 10,
        "userName": null,
        "sno": null,
        "gender": null,
        "userGrade": null,
        "deptId": null,
        "leaveReason": "明天结婚",
        "leaveDays": "0.1",
        "leaveType": 1,
        "leaveState": 1,
        "leaveNo": 1,
        "createTime": "2023-03-23T13:19:38.000+00:00"
      }
    ],
    "total": 0,
    "size": 10,
    "current": 1,
    "orders": [],
    "optimizeCountSql": true,
    "searchCount": true,
    "optimizeJoinOfCountSql": true,
    "countId": null,
    "maxLimit": null,
    "pages": 0
  },
  "message": "ok"
}
```



## 老师获取学生的请假记录


**接口地址**:`/api/leave/list/page`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称   | 参数说明 | 请求类型 | 是否必须 | 数据类型       | schema                      |
| ---------- | -------- | -------- | -------- | -------------- | --------------------------- |
| current    |          | query    | true     | integer(int64) |                             |
| pageSize   |          | query    | true     | integer(int64) |                             |
| date       |          | query    | false    | string         |                             |
| leaveState |          | query    | false    | string(byte)   | 条件                        |
| leaveType  |          | query    | false    | string(byte)   | 条件                        |
| sortField  |          | query    | false    | string         | 请假单CreatTime创建时间倒序 |
| sortOrder  |          | query    | false    | string         | leaveState请假状态正序      |
| userId     |          | query    | false    | integer(int32) |                             |


**响应状态**:


| 状态码 | 说明         | schema                      |
| ------ | ------------ | --------------------------- |
| 200    | OK           | BaseResponse«Page«LeaveVO»» |
| 401    | Unauthorized |                             |
| 403    | Forbidden    |                             |
| 404    | Not Found    |                             |


**响应参数**:


| 参数名称                            | 参数说明 | 类型           | schema         |
| ----------------------------------- | -------- | -------------- | -------------- |
| code                                |          | integer(int32) | integer(int32) |
| data                                |          | Page«LeaveVO»  | Page«LeaveVO»  |
| &emsp;&emsp;countId                 |          | string         |                |
| &emsp;&emsp;current                 |          | integer(int64) |                |
| &emsp;&emsp;maxLimit                |          | integer(int64) |                |
| &emsp;&emsp;optimizeCountSql        |          | boolean        |                |
| &emsp;&emsp;orders                  |          | array          | OrderItem      |
| &emsp;&emsp;&emsp;&emsp;asc         |          | boolean        |                |
| &emsp;&emsp;&emsp;&emsp;column      |          | string         |                |
| &emsp;&emsp;pages                   |          | integer(int64) |                |
| &emsp;&emsp;records                 |          | array          | LeaveVO        |
| &emsp;&emsp;&emsp;&emsp;createTime  | 学生ID   | string         |                |
| &emsp;&emsp;&emsp;&emsp;deptId      | 院系     | string         |                |
| &emsp;&emsp;&emsp;&emsp;gender      | 性别     | integer        |                |
| &emsp;&emsp;&emsp;&emsp;leaveDays   | 学生ID   | string         |                |
| &emsp;&emsp;&emsp;&emsp;leaveNo     | 学生ID   | integer        |                |
| &emsp;&emsp;&emsp;&emsp;leaveReason | 请假原因 | string         |                |
| &emsp;&emsp;&emsp;&emsp;leaveState  | 学生ID   | integer        |                |
| &emsp;&emsp;&emsp;&emsp;leaveType   | 学生ID   | integer        |                |
| &emsp;&emsp;&emsp;&emsp;sno         | 学号     | integer        |                |
| &emsp;&emsp;&emsp;&emsp;userGrade   | 年级     | string         |                |
| &emsp;&emsp;&emsp;&emsp;userId      | 学生ID   | integer        |                |
| &emsp;&emsp;&emsp;&emsp;userName    | 姓名     | string         |                |
| &emsp;&emsp;searchCount             |          | boolean        |                |
| &emsp;&emsp;size                    |          | integer(int64) |                |
| &emsp;&emsp;total                   |          | integer(int64) |                |
| message                             |          | string         |                |

**响应示例**:

老师：`todo` 没有做老师对应的班级下的学生呢，缺个专业字段，后面再优化

```javascript
{
  "code": 0,
  "data": {
    "records": [
      {
        "userId": 10,
        "userName": "汪汪汪",
        "sno": 2020454112212,
        "gender": 0,
        "userGrade": "10",
        "deptId": "城乡学院",
        "leaveReason": "明天",
        "leaveDays": "0.1",
        "leaveType": 1,
        "leaveState": 1,
        "leaveNo": 1,
        "createTime": "2023-03-24T01:46:15.000+00:00"
      },
      {
        "userId": 10,
        "userName": "汪汪汪",
        "sno": 2020454112212,
        "gender": 0,
        "userGrade": "10",
        "deptId": "城乡学院",
        "leaveReason": "明天结婚",
        "leaveDays": "0.1",
        "leaveType": 1,
        "leaveState": 1,
        "leaveNo": 1,
        "createTime": "2023-03-23T13:19:38.000+00:00"
      },
      {
        "userId": 10,
        "userName": "汪汪汪",
        "sno": 2020454112212,
        "gender": 0,
        "userGrade": "10",
        "deptId": "城乡学院",
        "leaveReason": "明天去看病",
        "leaveDays": "0.2",
        "leaveType": 1,
        "leaveState": 2,
        "leaveNo": 1,
        "createTime": "2023-03-25T04:32:31.000+00:00"
      },
      {
        "userId": 12,
        "userName": null,
        "sno": null,
        "gender": 0,
        "userGrade": null,
        "deptId": null,
        "leaveReason": "明天去看病",
        "leaveDays": "0.1",
        "leaveType": 1,
        "leaveState": 3,
        "leaveNo": 1,
        "createTime": "2023-03-23T13:18:31.000+00:00"
      }
    ],
    "total": 0,
    "size": 10,
    "current": 1,
    "orders": [],
    "optimizeCountSql": true,
    "searchCount": true,
    "countId": null,
    "maxLimit": null,
    "pages": 0
  },
  "message": "ok"
}
```


## 添加请假记录


**接口地址**:`/api/leave/submit`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "endTime": "2023-03-26 12:00",
  "leaveNo": 1,
  "leaveReason": "明天去看病",
  "leaveState": 1,❌不传默认为1请假中
  "leaveType": 1,
  "startTime": "2023-03-26 8:30"
}
```


**请求参数**:


| 参数名称                | 参数说明             | 请求类型 | 是否必须 | 数据类型         | schema           |
| ----------------------- | -------------------- | -------- | -------- | ---------------- | ---------------- |
| leaveFormRequest        | LeaveFormRequest     | body     | true     | LeaveFormRequest | LeaveFormRequest |
| &emsp;&emsp;endTime     | 结束时间             |          | false    | string           |                  |
| &emsp;&emsp;leaveDays   | 请假天数             |          | false    | string           | ❌                |
| &emsp;&emsp;leaveNo     | 类型：1离校，2不离校 |          | false    | integer(int32)   |                  |
| &emsp;&emsp;leaveReason | 请假原因             |          | false    | string           |                  |
| &emsp;&emsp;leaveType   | 类型：1病假，2事假   |          | false    | integer(int32)   |                  |
| &emsp;&emsp;startTime   | 开始时间             |          | false    | string           |                  |
| &emsp;&emsp;userId      | 学生ID               |          | false    | integer(int32)   | ❌不传            |


**响应状态**:


| 状态码 | 说明         | schema                         |
| ------ | ------------ | ------------------------------ |
| 200    | OK           | BaseResponse«LeaveFormRequest» |
| 201    | Created      |                                |
| 401    | Unauthorized |                                |
| 403    | Forbidden    |                                |
| 404    | Not Found    |                                |


**响应参数**:


| 参数名称                | 参数说明             | 类型             | schema           |
| ----------------------- | -------------------- | ---------------- | ---------------- |
| code                    |                      | integer(int32)   | integer(int32)   |
| data                    |                      | LeaveFormRequest | LeaveFormRequest |
| &emsp;&emsp;endTime     | 结束时间             | string           |                  |
| &emsp;&emsp;leaveDays   | 请假天数             | string           |                  |
| &emsp;&emsp;leaveNo     | 类型：1离校，2不离校 | integer(int32)   |                  |
| &emsp;&emsp;leaveReason | 请假原因             | string           |                  |
| &emsp;&emsp;leaveType   | 类型：1病假，2事假   | integer(int32)   |                  |
| &emsp;&emsp;startTime   | 开始时间             | string           |                  |
| &emsp;&emsp;userId      | 学生ID               | integer(int32)   |                  |
| message                 |                      | string           |                  |


**响应示例**:

```javascript
{
  "code": 0,
  "data": {
    "userId": 10,
    "leaveReason": "明天去看病",
    "startTime": "2023-03-26 8:30",
    "endTime": "2023-03-26 12:00",
    "leaveDays": "0.2",
    "leaveType": 1,
    "leaveNo": 1
  },
  "message": "ok"
}
```


## 老师审核请假


**接口地址**:`/api/leave/update`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
学生请求示例一：
{
  "leaveId": 25,
  "leaveState": 3
}

老师请求示例二：
{
  "leaveId": 25,
  "leaveState": 3
}
```


**请求参数**:


| 参数名称               | 参数说明                        | 请求类型 | 是否必须 | 数据类型           | schema             |
| ---------------------- | ------------------------------- | -------- | -------- | ------------------ | ------------------ |
| updateStateRequest     | UpdateStateRequest              | body     | true     | UpdateStateRequest | UpdateStateRequest |
| &emsp;&emsp;leaveId    | 请假ID                          |          | false    | integer(int32)     |                    |
| &emsp;&emsp;leaveState | 状态：1请假中，2不同意，3已同意 |          | false    | integer(int32)     |                    |


**响应状态**:


| 状态码 | 说明         | schema                |
| ------ | ------------ | --------------------- |
| 200    | OK           | BaseResponse«boolean» |
| 201    | Created      |                       |
| 401    | Unauthorized |                       |
| 403    | Forbidden    |                       |
| 404    | Not Found    |                       |


**响应参数**:


| 参数名称 | 参数说明 | 类型           | schema         |
| -------- | -------- | -------------- | -------------- |
| code     |          | integer(int32) | integer(int32) |
| data     |          | boolean        |                |
| message  |          | string         |                |

**响应示例**:

```javascript
学生请求响应示例一：
{
  "code": 40101,
  "data": null,
  "message": "无权限"
}

学生请求响应示例二：
{
  "code": 0,
  "data": true,
  "message": "ok"
}
```


# releave-controller


## 审批销假申请


**接口地址**:`/api/releave/approve`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "id": 1,
  "releaveState": 3,
  "remarks": "按时吃药，注意休息"
}
```


**请求参数**:


| 参数名称                 | 参数说明                        | 请求类型 | 是否必须 | 数据类型       | schema         |
| ------------------------ | ------------------------------- | -------- | -------- | -------------- | -------------- |
| approveRequest           | ApproveRequest                  | body     | true     | ApproveRequest | ApproveRequest |
| &emsp;&emsp;id           | 审批请假ID                      |          | true     | integer(int32) |                |
| &emsp;&emsp;releaveState | 状态：1销假中，2不同意，3已同意 |          | true     | integer(int32) |                |
| &emsp;&emsp;remarks      | 备注                            |          | false    | string         |                |

**响应状态**:


| 状态码 | 说明         | schema                |
| ------ | ------------ | --------------------- |
| 200    | OK           | BaseResponse«boolean» |
| 201    | Created      |                       |
| 401    | Unauthorized |                       |
| 403    | Forbidden    |                       |
| 404    | Not Found    |                       |


**响应参数**:


| 参数名称 | 参数说明 | 类型           | schema         |
| -------- | -------- | -------------- | -------------- |
| code     |          | integer(int32) | integer(int32) |
| data     |          | boolean        |                |
| message  |          | string         |                |


**响应示例**:

```javascript
{
  "code": 0,
  "data": true,
  "message": "ok"
}
```

![image-20230325133226968](https://cdn.staticaly.com/gh/codepandaLN/picgocdn@master/img/image-20230325133226968.png)

## 学生获取自己的销假信息

**接口地址**:`/api/releave/list/me`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "createTime": "",
  "current": 1,
  "leaveID": "",
  "pageSize": 10,
  "releaveState": 0,
  "remarks": "",
  "sortField": "",
  "sortOrder": "",
  "userId": 10
}
```


**请求参数**:


| 参数名称                 | 参数说明                        | 请求类型 | 是否必须 | 数据类型          | schema           |
| ------------------------ | ------------------------------- | -------- | -------- | ----------------- | ---------------- |
| myReleaveRequest         | MyReleaveRequest                | body     | true     | MyReleaveRequest  | MyReleaveRequest |
| &emsp;&emsp;createTime   | 创建时间                        |          | false    | string(date-time) |                  |
| &emsp;&emsp;current      | 页数                            |          | false    | integer(int64)    |                  |
| &emsp;&emsp;leaveID      | 请假单ID                        |          | false    | string            |                  |
| &emsp;&emsp;pageSize     | 每页记录数                      |          | false    | integer(int64)    |                  |
| &emsp;&emsp;releaveState | 状态：1销假中，2不同意，3已同意 |          | false    | integer(int32)    |                  |
| &emsp;&emsp;remarks      | 备注                            |          | false    | string            |                  |
| &emsp;&emsp;sortField    |                                 |          | false    | string            | ❌                |
| &emsp;&emsp;sortOrder    |                                 |          | false    | string            | ❌                |
| &emsp;&emsp;userId       | 学生ID                          |          | true     | integer(int32)    |                  |


**响应状态**:


| 状态码 | 说明         | schema                        |
| ------ | ------------ | ----------------------------- |
| 200    | OK           | BaseResponse«Page«ReleaveVo»» |
| 201    | Created      |                               |
| 401    | Unauthorized |                               |
| 403    | Forbidden    |                               |
| 404    | Not Found    |                               |


**响应参数**:


| 参数名称                             | 参数说明                        | 类型            | schema          |
| ------------------------------------ | ------------------------------- | --------------- | --------------- |
| code                                 |                                 | integer(int32)  | integer(int32)  |
| data                                 |                                 | Page«ReleaveVo» | Page«ReleaveVo» |
| &emsp;&emsp;countId                  |                                 | string          |                 |
| &emsp;&emsp;current                  |                                 | integer(int64)  |                 |
| &emsp;&emsp;maxLimit                 |                                 | integer(int64)  |                 |
| &emsp;&emsp;optimizeCountSql         |                                 | boolean         |                 |
| &emsp;&emsp;orders                   |                                 | array           | OrderItem       |
| &emsp;&emsp;&emsp;&emsp;asc          |                                 | boolean         |                 |
| &emsp;&emsp;&emsp;&emsp;column       |                                 | string          |                 |
| &emsp;&emsp;pages                    |                                 | integer(int64)  |                 |
| &emsp;&emsp;records                  |                                 | array           | ReleaveVo       |
| &emsp;&emsp;&emsp;&emsp;createTime   | 学生ID                          | string          |                 |
| &emsp;&emsp;&emsp;&emsp;id           | 审批请假ID                      | integer         |                 |
| &emsp;&emsp;&emsp;&emsp;leaveID      | 请假单ID                        | string          |                 |
| &emsp;&emsp;&emsp;&emsp;leaveReason  | 请假原因                        | string          |                 |
| &emsp;&emsp;&emsp;&emsp;leaveState   | 状态：1请假中，2不同意，3已同意 | integer         |                 |
| &emsp;&emsp;&emsp;&emsp;leaveType    | 类型：1病假，2事假              | integer         |                 |
| &emsp;&emsp;&emsp;&emsp;releaveState | 状态：1销假中，2不同意，3已同意 | integer         |                 |
| &emsp;&emsp;&emsp;&emsp;remarks      | 备注                            | string          |                 |
| &emsp;&emsp;&emsp;&emsp;userId       | 学生ID                          | integer         |                 |
| &emsp;&emsp;searchCount              |                                 | boolean         |                 |
| &emsp;&emsp;size                     |                                 | integer(int64)  |                 |
| &emsp;&emsp;total                    |                                 | integer(int64)  |                 |
| message                              |                                 | string          |                 |


**响应示例**:

```javascript
{
  "code": 0,
  "data": {
    "records": [
      {
        "id": 2,
        "userId": 10,
        "leaveID": "25",
        "remarks": null,
        "releaveState": 1,
        "createTime": "2023-03-25T05:34:05.000+00:00",
        "leaveReason": "明天去看病",
        "leaveType": 1,
        "leaveState": 2
      },
      {
        "id": 1,
        "userId": 10,
        "leaveID": "24",
        "remarks": "按时吃药，注意休息",
        "releaveState": 3,
        "createTime": "2023-03-25T03:43:30.000+00:00",
        "leaveReason": null,
        "leaveType": null,
        "leaveState": null
      }
    ],
    "total": 0,
    "size": 10,
    "current": 1,
    "orders": [],
    "optimizeCountSql": true,
    "searchCount": true,
    "optimizeJoinOfCountSql": true,
    "countId": null,
    "maxLimit": null,
    "pages": 0
  },
  "message": "ok"
}
```


## 老师获取销假信息


**接口地址**:`/api/releave/list/page`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "createTime": "",
  "current": 1,
  "deptId": "",
  "gender": 0,
  "id": 0,
  "leaveID": "",
  "pageSize": 10,
  "releaveState": 0,
  "remarks": "",
  "sno": 0,
  "sortField": "",
  "sortOrder": "",
  "userGrade": "",
  "userId": 0,
  "userName": ""
}
```


**请求参数**:


| 参数名称                 | 参数说明                        | 请求类型 | 是否必须 | 数据类型           | schema             |
| ------------------------ | ------------------------------- | -------- | -------- | ------------------ | ------------------ |
| pageReleaveRequest       | PageReleaveRequest              | body     | true     | PageReleaveRequest | PageReleaveRequest |
| &emsp;&emsp;createTime   | 创建时间                        |          | false    | string(date-time)  |                    |
| &emsp;&emsp;current      | 页数                            |          | false    | integer(int64)     |                    |
| &emsp;&emsp;deptId       | 院系                            |          | false    | string             |                    |
| &emsp;&emsp;gender       | 性别                            |          | false    | integer(int32)     |                    |
| &emsp;&emsp;id           | 审批请假ID                      |          | false    | integer(int32)     |                    |
| &emsp;&emsp;leaveID      | 请假单ID                        |          | false    | string             |                    |
| &emsp;&emsp;pageSize     | 每页记录数                      |          | false    | integer(int64)     |                    |
| &emsp;&emsp;releaveState | 状态：1销假中，2不同意，3已同意 |          | false    | integer(int32)     |                    |
| &emsp;&emsp;remarks      | 备注                            |          | false    | string             |                    |
| &emsp;&emsp;sno          | 学号                            |          | false    | integer(int64)     |                    |
| &emsp;&emsp;sortField    |                                 |          | false    | string             | ❌                  |
| &emsp;&emsp;sortOrder    |                                 |          | false    | string             | ❌                  |
| &emsp;&emsp;userGrade    | 年级                            |          | false    | string             |                    |
| &emsp;&emsp;userId       | 学生ID                          |          | false    | integer(int32)     |                    |
| &emsp;&emsp;userName     | 姓名                            |          | false    | string             |                    |


**响应状态**:


| 状态码 | 说明         | schema                            |
| ------ | ------------ | --------------------------------- |
| 200    | OK           | BaseResponse«Page«PageReleaveVo»» |
| 201    | Created      |                                   |
| 401    | Unauthorized |                                   |
| 403    | Forbidden    |                                   |
| 404    | Not Found    |                                   |


**响应参数**:


| 参数名称                             | 参数说明                        | 类型                | schema              |
| ------------------------------------ | ------------------------------- | ------------------- | ------------------- |
| code                                 |                                 | integer(int32)      | integer(int32)      |
| data                                 |                                 | Page«PageReleaveVo» | Page«PageReleaveVo» |
| &emsp;&emsp;countId                  |                                 | string              |                     |
| &emsp;&emsp;current                  |                                 | integer(int64)      |                     |
| &emsp;&emsp;maxLimit                 |                                 | integer(int64)      |                     |
| &emsp;&emsp;optimizeCountSql         |                                 | boolean             |                     |
| &emsp;&emsp;orders                   |                                 | array               | OrderItem           |
| &emsp;&emsp;&emsp;&emsp;asc          |                                 | boolean             |                     |
| &emsp;&emsp;&emsp;&emsp;column       |                                 | string              |                     |
| &emsp;&emsp;pages                    |                                 | integer(int64)      |                     |
| &emsp;&emsp;records                  |                                 | array               | PageReleaveVo       |
| &emsp;&emsp;&emsp;&emsp;createTime   | 创建时间                        | string              |                     |
| &emsp;&emsp;&emsp;&emsp;deptId       | 院系                            | string              |                     |
| &emsp;&emsp;&emsp;&emsp;gender       | 性别                            | integer             |                     |
| &emsp;&emsp;&emsp;&emsp;id           | 审批请假ID                      | integer             |                     |
| &emsp;&emsp;&emsp;&emsp;leaveID      | 请假单ID                        | string              |                     |
| &emsp;&emsp;&emsp;&emsp;leaveReason  | 请假原因                        | string              |                     |
| &emsp;&emsp;&emsp;&emsp;leaveState   | 状态：1请假中，2不同意，3已同意 | integer             |                     |
| &emsp;&emsp;&emsp;&emsp;leaveType    | 类型：1病假，2事假              | integer             |                     |
| &emsp;&emsp;&emsp;&emsp;releaveState | 状态：1销假中，2不同意，3已同意 | integer             |                     |
| &emsp;&emsp;&emsp;&emsp;remarks      | 备注                            | string              |                     |
| &emsp;&emsp;&emsp;&emsp;sno          | 学号                            | integer             |                     |
| &emsp;&emsp;&emsp;&emsp;userGrade    | 年级                            | string              |                     |
| &emsp;&emsp;&emsp;&emsp;userId       | 学生ID                          | integer             |                     |
| &emsp;&emsp;&emsp;&emsp;userName     | 姓名                            | string              |                     |
| &emsp;&emsp;searchCount              |                                 | boolean             |                     |
| &emsp;&emsp;size                     |                                 | integer(int64)      |                     |
| &emsp;&emsp;total                    |                                 | integer(int64)      |                     |
| message                              |                                 | string              |                     |


**响应示例**:

```javascript
{
  "code": 0,
  "data": {
    "records": [
      {
        "id": 2,
        "userId": 10,
        "leaveID": "25",
        "remarks": null,
        "releaveState": 1,
        "createTime": "2023-03-25T05:34:05.000+00:00",
        "leaveReason": "明天去看病",
        "leaveType": 1,
        "leaveState": 2,
        "sno": 2020454112212,
        "gender": 0,
        "userGrade": "10",
        "userName": "汪汪汪",
        "deptId": "城乡学院"
      },
      {
        "id": 1,
        "userId": 10,
        "leaveID": "24",
        "remarks": "按时吃药，注意休息",
        "releaveState": 3,
        "createTime": "2023-03-25T03:43:30.000+00:00",
        "leaveReason": null,
        "leaveType": null,
        "leaveState": null,
        "sno": 2020454112212,
        "gender": 0,
        "userGrade": "10",
        "userName": "汪汪汪",
        "deptId": "城乡学院"
      }
    ],
    "total": 0,
    "size": 10,
    "current": 1,
    "orders": [],
    "optimizeCountSql": true,
    "searchCount": true,
    "optimizeJoinOfCountSql": true,
    "countId": null,
    "maxLimit": null,
    "pages": 0
  },
  "message": "ok"
}
```


## 添加销假申请

**接口地址**:`/api/releave/submit`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:

**请求示例**:请假单leaveState为三的，才能销假，否则会报请求参数错误


```javascript
{
  "leaveID": "25",
  "releaveState": 0,
  "userId": 10
}
```


**请求参数**:


| 参数名称                 | 参数说明                        | 请求类型 | 是否必须 | 数据类型       | schema         |
| ------------------------ | ------------------------------- | -------- | -------- | -------------- | -------------- |
| releaveRequest           | ReleaveRequest                  | body     | true     | ReleaveRequest | ReleaveRequest |
| &emsp;&emsp;leaveID      | 请假单ID                        |          | true     | string         |                |
| &emsp;&emsp;releaveState | 状态：1销假中，2不同意，3已同意 |          | false    | integer(int32) | 默认为1不用传❌ |
| &emsp;&emsp;userId       | 学生ID                          |          | true     | integer(int32) |                |


**响应状态**:


| 状态码 | 说明         | schema                |
| ------ | ------------ | --------------------- |
| 200    | OK           | BaseResponse«boolean» |
| 201    | Created      |                       |
| 401    | Unauthorized |                       |
| 403    | Forbidden    |                       |
| 404    | Not Found    |                       |


**响应参数**:


| 参数名称 | 参数说明 | 类型           | schema         |
| -------- | -------- | -------------- | -------------- |
| code     |          | integer(int32) | integer(int32) |
| data     |          | boolean        |                |
| message  |          | string         |                |


**响应示例**:

```javascript
{
  "code": 0,
  "data": true,
  "message": "ok"
}
```


## 

# user-controller


## 添加学生(只有管理员和老师有权限),添加老师(只有管理员有权限)


**接口地址**:`/api/user/add`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "userAccount": "",
  "userName": "",
  "userPassword": "",
  "userRole": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userAddRequest|UserAddRequest|body|true|UserAddRequest|UserAddRequest|
|&emsp;&emsp;userAccount|账号||false|string||
|&emsp;&emsp;userName|姓名||false|string||
|&emsp;&emsp;userPassword|密码||false|string||
|&emsp;&emsp;userRole|用户角色：student / teacher / admin||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«long»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||integer(int64)|integer(int64)|
|message||string||


**响应示例**:
```javascript
{
  "code": 0,
  "data": 9,
  "message": "ok"
}


```


## 删除学生(只有管理员和老师有权限)


**接口地址**:`/api/user/delete`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "id": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|deleteRequest|DeleteRequest|body|true|DeleteRequest|DeleteRequest|
|&emsp;&emsp;id|用户id||false|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«boolean»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||boolean||
|message||string||


**响应示例**:
```javascript
{
	"code": 0,
	"data": true,
	"message": ""
}
or
{
  "code": 40101,
  "data": null,
  "message": "无权限"
}
```


## 根据 id 获取用户


**接口地址**:`/api/user/get`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|id|query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«UserVO»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||UserVO|UserVO|
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;deptId|院系|string||
|&emsp;&emsp;email|邮箱|string||
|&emsp;&emsp;gender|性别|integer(int32)||
|&emsp;&emsp;id|id|integer(int64)||
|&emsp;&emsp;phone|电话|string||
|&emsp;&emsp;sno|学号|integer(int32)||
|&emsp;&emsp;userAccount|账号|string||
|&emsp;&emsp;userAvatar|用户头像|string||
|&emsp;&emsp;userGrade|年级|string||
|&emsp;&emsp;userName|姓名|string||
|&emsp;&emsp;userRole|用户角色：student / teacher / admin|string||
|message||string||


**响应示例**:
```javascript
{
  "code": 0,
  "data": {
    "id": 3,
    "sno": null,
    "userName": "小李",
    "gender": null,
    "userGrade": "10",
    "deptId": "理工学院",
    "userAvatar": null,
    "userAccount": "zhangsan",
    "phone": null,
    "email": null,
    "userRole": "teacer",
    "createTime": "2023-03-21T13:48:13.000+00:00"
  },
  "message": "ok"
}
```


## 获取当前登录用户

**接口地址**:`/api/user/get/login`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`

**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«UserVO»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||UserVO|UserVO|
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;deptId|院系|string||
|&emsp;&emsp;email|邮箱|string||
|&emsp;&emsp;gender|性别|integer(int32)||
|&emsp;&emsp;id|id|integer(int64)||
|&emsp;&emsp;phone|电话|string||
|&emsp;&emsp;sno|学号|integer(int32)||
|&emsp;&emsp;userAccount|账号|string||
|&emsp;&emsp;userAvatar|用户头像|string||
|&emsp;&emsp;userGrade|年级|string||
|&emsp;&emsp;userName|姓名|string||
|&emsp;&emsp;userRole|用户角色：student / teacher / admin|string||
|message||string||


**响应示例**:
```javascript
{
  "code": 0,
  "data": {
    "id": 3,
    "sno": null,
    "userName": "小李",
    "gender": null,
    "userGrade": "10",
    "deptId": "理工学院",
    "userAvatar": null,
    "userAccount": "zhangsan",
    "phone": null,
    "email": null,
    "userRole": "teacer",
    "createTime": "2023-03-21T13:48:13.000+00:00"
  },
  "message": "ok"
}
```


## 获取用户列表


**接口地址**:`/api/user/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|current|当前页数|query|true|integer(int64)||
|pageSize|单页页面条数|query|true|integer(int64)||
|deptId|院系|query|false|string|√|
|email|邮件|query|false|string||
|gender|性别|query|false|integer(int32)||
|id|用户id|query|false|integer(int64)||
|phone|电话|query|false|string|√|
|sno|学号|query|false|integer(int64)|√|
|~~sortField~~||query|false|string||
|~~sortOrder~~||query|false|string||
|userGrade|班级|query|false|string|√|
|userName|姓名|query|false|string|√|

```java
long current = 1;
long size = 10;
```

#### 查询条件

```java

queryWrapper.like( userQueryRequest.getUserName()!=null,User::getUserName,userQueryRequest.getUserName());
queryWrapper.like( userQueryRequest.getUserGrade()!= null,User::getUserGrade,userQueryRequest.getUserGrade());
queryWrapper.like( userQueryRequest.getSno()!= null,User::getSno,userQueryRequest.getSno());
queryWrapper.like( userQueryRequest.getDeptId()!= null,User::getDeptId,userQueryRequest.getDeptId());
queryWrapper.like( userQueryRequest.getPhone()!= null,User::getPhone,userQueryRequest.getPhone());
queryWrapper.orderByDesc(User::getUpdateTime);
```



**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«List«UserVO»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||array|UserVO|
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;deptId|院系|string||
|&emsp;&emsp;email|邮箱|string||
|&emsp;&emsp;gender|性别|integer(int32)||
|&emsp;&emsp;id|id|integer(int64)||
|&emsp;&emsp;phone|电话|string||
|&emsp;&emsp;sno|学号|integer(int32)||
|&emsp;&emsp;userAccount|账号|string||
|&emsp;&emsp;userAvatar|用户头像|string||
|&emsp;&emsp;userGrade|年级|string||
|&emsp;&emsp;userName|姓名|string||
|&emsp;&emsp;userRole|用户角色：student / teacher / admin|string||
|message||string||


**响应示例**:
```javascript
{
  "code": 0,
  "data": [
    {
      "id": 11,
      "sno": null,
      "userName": "李是",
      "gender": 0,
      "userGrade": null,
      "deptId": null,
      "userAvatar": null,
      "userAccount": "sacv",
      "phone": null,
      "email": null,
      "userRole": "student",
      "createTime": "2023-03-22T12:37:01.000+00:00"
    },
    {
      "id": 10,
      "sno": null,
      "userName": "李是",
      "gender": 0,
      "userGrade": null,
      "deptId": null,
      "userAvatar": null,
      "userAccount": "ssss",
      "phone": null,
      "email": null,
      "userRole": "teacher",
      "createTime": "2023-03-22T12:36:07.000+00:00"
    },
    {
      "id": 3,
      "sno": null,
      "userName": "小李",
      "gender": null,
      "userGrade": "10",
      "deptId": "理工学院",
      "userAvatar": null,
      "userAccount": "zhangsan",
      "phone": null,
      "email": null,
      "userRole": "teacer",
      "createTime": "2023-03-21T13:48:13.000+00:00"
    },
    {
      "id": 2,
      "sno": null,
      "userName": "李宁",
      "gender": 0,
      "userGrade": "10",
      "deptId": "理工学院",
      "userAvatar": "https://avatars.githubusercontent.com/u/110900917?v=4",
      "userAccount": "panda",
      "phone": "13192579103",
      "email": "2634598714@qq.com",
      "userRole": "admin",
      "createTime": "2023-03-17T10:11:03.000+00:00"
    }
  ],
  "message": "ok"
}
```


## 分页获取用户列表


**接口地址**:`/api/user/list/page`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|current||query|true|integer(int64)||
|pageSize||query|true|integer(int64)||
|deptId||query|false|string||
|email||query|false|string||
|gender||query|false|integer(int32)||
|id||query|false|integer(int64)||
|phone||query|false|string||
|sno||query|false|integer(int64)||
|sortField||query|false|string||
|sortOrder||query|false|string||
|userGrade||query|false|string||
|userName||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«Page«UserVO»»|
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||Page«UserVO»|Page«UserVO»|
|&emsp;&emsp;countId||string||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;maxLimit||integer(int64)||
|&emsp;&emsp;optimizeCountSql||boolean||
|&emsp;&emsp;orders||array|OrderItem|
|&emsp;&emsp;&emsp;&emsp;asc||boolean||
|&emsp;&emsp;&emsp;&emsp;column||string||
|&emsp;&emsp;pages||integer(int64)||
|&emsp;&emsp;records||array|UserVO|
|&emsp;&emsp;&emsp;&emsp;createTime|创建时间|string||
|&emsp;&emsp;&emsp;&emsp;deptId|院系|string||
|&emsp;&emsp;&emsp;&emsp;email|邮箱|string||
|&emsp;&emsp;&emsp;&emsp;gender|性别|integer||
|&emsp;&emsp;&emsp;&emsp;id|id|integer||
|&emsp;&emsp;&emsp;&emsp;phone|电话|string||
|&emsp;&emsp;&emsp;&emsp;sno|学号|integer||
|&emsp;&emsp;&emsp;&emsp;userAccount|账号|string||
|&emsp;&emsp;&emsp;&emsp;userAvatar|用户头像|string||
|&emsp;&emsp;&emsp;&emsp;userGrade|年级|string||
|&emsp;&emsp;&emsp;&emsp;userName|姓名|string||
|&emsp;&emsp;&emsp;&emsp;userRole|用户角色：student / teacher / admin|string||
|&emsp;&emsp;searchCount||boolean||
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;total||integer(int64)||
|message||string||

**响应示例**:

```javascript

//like "李"（条件查询）
{
  "code": 0,
  "data": {
    "records": [
      {
        "id": 11,
        "sno": null,
        "userName": "李是",
        "gender": 0,
        "userGrade": null,
        "deptId": null,
        "userAvatar": null,
        "userAccount": "sacv",
        "phone": null,
        "email": null,
        "userRole": "student",
        "createTime": "2023-03-22T12:37:01.000+00:00"
      },
      {
        "id": 10,
        "sno": null,
        "userName": "李是",
        "gender": 0,
        "userGrade": null,
        "deptId": null,
        "userAvatar": null,
        "userAccount": "ssss",
        "phone": null,
        "email": null,
        "userRole": "teacher",
        "createTime": "2023-03-22T12:36:07.000+00:00"
      },
      {
        "id": 3,
        "sno": null,
        "userName": "小李",
        "gender": null,
        "userGrade": "10",
        "deptId": "理工学院",
        "userAvatar": null,
        "userAccount": "zhangsan",
        "phone": null,
        "email": null,
        "userRole": "teacer",
        "createTime": "2023-03-21T13:48:13.000+00:00"
      },
      {
        "id": 2,
        "sno": null,
        "userName": "李宁",
        "gender": 0,
        "userGrade": "10",
        "deptId": "理工学院",
        "userAvatar": "https://avatars.githubusercontent.com/u/110900917?v=4",
        "userAccount": "panda",
        "phone": "13192579103",
        "email": "2634598714@qq.com",
        "userRole": "admin",
        "createTime": "2023-03-17T10:11:03.000+00:00"
      }
    ],
    "total": 4,
    "size": 10,
    "current": 1,
    "orders": [],
    "optimizeCountSql": true,
    "searchCount": true,
    "optimizeJoinOfCountSql": true,
    "countId": null,
    "maxLimit": null,
    "pages": 1
  },
  "message": "ok"
}
```


## 用户登录


**接口地址**:`/api/user/login`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "userAccount": "codepanda",
  "userPassword": "12345678"
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userLoginRequest|UserLoginRequest|body|true|UserLoginRequest|UserLoginRequest|
|&emsp;&emsp;userAccount|账号||false|string||
|&emsp;&emsp;userPassword|密码||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«LoginUserVO»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- |
|code||integer(int32)|integer(int32)|
|data||LoginUserVO|LoginUserVO|
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;deptId|院系|string||
|&emsp;&emsp;email|邮箱|string||
|&emsp;&emsp;gender|性别|integer(int32)||
|&emsp;&emsp;id|用户id|integer(int64)||
|&emsp;&emsp;phone|电话|string||
|&emsp;&emsp;sno|学号|integer(int64)||
|userAvatar|头像|string||
|&emsp;&emsp;updateTime|更新时间|string(date-time)||
|&emsp;&emsp;userGrade|年级|string||
|&emsp;&emsp;userName|姓名|string||
|&emsp;&emsp;userProfile|用户简介|string||
|&emsp;&emsp;userRole|用户角色：user/admin/ban|string||
|message||string||

**响应示例**:

```javascript
{
  "code": 0,
  "data": {
    "id": 12,
    "sno": null,
    "userName": null,
    "gender": 0,
    "userGrade": null,
    "deptId": null,
    "userAvatar": null,
    "userProfile": null,
    "userRole": "student",
    "phone": null,
    "email": null,
    "createTime": "2023-03-22T14:21:23.000+00:00",
    "updateTime": "2023-03-22T14:21:23.000+00:00"
  },
  "message": "ok"
}
```


## 用户注销


**接口地址**:`/api/user/logout`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`

**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«boolean»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- |
|code||integer(int32)|integer(int32)|
|data|Boole|boolean||
|message||string||


**响应示例**:
```javascript
{
  "code": 0,
  "data": true,
  "message": "ok"
}
```


## 用户注册

**接口地址**:`/api/user/register`


**请求方式**:`POST`

**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "checkPassword": "12345678",
  "userAccount": "codepanda",
  "userPassword": "12345678",
  "userRole": "student"
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userRegisterRequest|UserRegisterRequest|body|true|UserRegisterRequest|UserRegisterRequest|
|&emsp;&emsp;checkPassword|校验密码||false|string||
|&emsp;&emsp;userAccount|账号||false|string||
|&emsp;&emsp;userPassword|密码||false|string||
|&emsp;&emsp;userRole|用户角色||false|string||

**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«long»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- |
|code||integer(int32)|integer(int32)|
|data|返回用户ID|integer(int64)|integer(int64)|
|message||string||


**响应示例**:
```javascript
{
  "code": 0,
  "data": 12,
  "message": "ok"
}
```


## 更新用户信息(只有管理员和老师有权限)


**接口地址**:`/api/user/update`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "deptId": "",
  "id": 0,
  "userGrade": "",
  "userName": "",
  "userPassword": "",
  "userRole": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userUpdateRequest|UserUpdateRequest|body|true|UserUpdateRequest|UserUpdateRequest|
|&emsp;&emsp;deptId|院系||false|string||
|&emsp;&emsp;id|用户id||false|integer(int64)||
|&emsp;&emsp;userGrade|年级||false|string||
|&emsp;&emsp;userName|姓名||false|string||
|&emsp;&emsp;userPassword|密码||false|string||
|&emsp;&emsp;userRole|用户角色：student / teacher / admin||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«boolean»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||boolean||
|message||string||


**响应示例**:
```javascript
{
  "code": 0,
  "data": true,
  "message": "ok"
}
```


## 用户更新个人信息


**接口地址**:`/api/user/update/my`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "deptId": "",
  "email": "",
  "gender": 0,
  "phone": "",
  "sno": 0,
  "userAccount": "",
  "userAvatar": "",
  "userGrade": "",
  "userName": "",
  "userProfile": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userUpdateMyRequest|UserUpdateMyRequest|body|true|UserUpdateMyRequest|UserUpdateMyRequest|
|&emsp;&emsp;deptId|院系||false|string||
|&emsp;&emsp;email|邮箱||false|string||
|&emsp;&emsp;gender|性别||false|integer(int32)||
|&emsp;&emsp;phone|电话||false|string||
|&emsp;&emsp;sno|学号||false|integer(int64)||
|&emsp;&emsp;userAccount|账号||false|string||
|&emsp;&emsp;userAvatar|用户头像||false|string||
|&emsp;&emsp;userGrade|年级||false|string||
|&emsp;&emsp;userName|姓名||false|string||
|&emsp;&emsp;userProfile|用户简介||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«boolean»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||boolean||
|message||string||


**响应示例**:
```javascript
{
  "code": 0,
  "data": true,
  "message": "ok"
}
```


## 用户修改个人密码


**接口地址**:`/api/user/update/password`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "userPassword": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userUpdatePasswordRequest|UserUpdatePasswordRequest|body|true|UserUpdatePasswordRequest|UserUpdatePasswordRequest|
|&emsp;&emsp;userPassword|用户密码||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|BaseResponse«boolean»|
|201|Created||
|401|Unauthorized||
|403|Forbidden||
|404|Not Found||


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|data||boolean||
|message||string||


**响应示例**:
```javascript
{
  "code": 0,
  "data": true,
  "message": "ok"
}
```



## 图像保存

```
D:\img\leave\图像名.jepg
```